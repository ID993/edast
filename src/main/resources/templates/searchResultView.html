<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <title>Search Results</title>
</head>
<body>
<h1>Search Results</h1>

<table>
    <!-- Display the search results -->
    <tbody th:each="book : ${resultPage.content}">
    <tr>
        <td th:text="${book.classNumber}"></td>
        <td th:text="${book.user.name}"></td>
        <td th:text="${book.employee.name}"></td>
    </tr>
    </tbody>
</table>

<!-- Pagination links -->
<div>
    <a th:if="${currentPage > 0}" th:href="@{/paging(page=${currentPage - 1},size=${resultPage.size},sortBy=${sortBy},sortOrder=${sortOrder})}">Previous</a>
    <span th:text="${currentPage + 1}"></span>
    <a th:if="${currentPage + 1 < resultPage.totalPages}" th:href="@{/paging(page=${currentPage + 1},size=${resultPage.size},sortBy=${sortBy},sortOrder=${sortOrder})}">Next</a>
</div>

<!-- Sorting links -->
<div>
    <a th:href="@{/paging(page=0,size=${resultPage.size},sortBy='classNumber',sortOrder=${sortOrder == 'asc' ? 'desc' : 'asc'})}" th:text="'Sort by Class Number ' + (sortBy == 'classNumber' ? (sortOrder == 'asc' ? '▲' : '▼') : '')"></a>
    <a th:href="@{/paging(page=0,size=${resultPage.size},sortBy='user.name',sortOrder=${sortOrder == 'asc' ? 'desc' : 'asc'})}" th:text="'Sort by User Name ' + (sortBy == 'user.name' ? (sortOrder == 'asc' ? '▲' : '▼') : '')"></a>
    <a th:href="@{/paging(page=0,size=${resultPage.size},sortBy='employee.name',sortOrder=${sortOrder == 'asc' ? 'desc' : 'asc'})}" th:text="'Sort by Employee Name ' + (sortBy == 'employee.name' ? (sortOrder == 'asc' ? '▲' : '▼') : '')"></a>
</div>
</body>
</html>