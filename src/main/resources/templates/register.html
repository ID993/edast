<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Web Page for State Archives">
    <title>Register</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.1/mdb.min.css" rel="stylesheet"/>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/6.0.1/mdb.min.js"></script>
    <script th:src="@{/js/password.js}" type="text/javascript"></script>

</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>
<section style="background-color: #eee; position: static">
    <div class="container h-100">
        <div class="row d-flex justify-content-center align-items-center h-100">
            <div class="col-lg-12 col-xl-11">
                <div class="text-black" style="border-radius: 25px;">
                    <div class="p-md-5">
                        <div class="row justify-content-center">
                            <div class="col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1">
                                <p class="text-center h1 fw-bold mb-5 mx-1 mx-md-4 mt-4">Register</p>
                                    <form id="form" class="mx-1 mx-md-4" th:object="${user}" method="POST" enctype="utf8">
                                        <div class="text-warning" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-pencil fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="text" id="name" class="form-control form-control-lg" th:field="*{name}"/>
                                                <label class="form-label" for="name">Full name</label>
                                            </div>
                                        </div>

                                        <div class="text-warning" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-envelope fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="email" id="email" class="form-control form-control-lg" th:field="*{email}"/>
                                                <label class="form-label" for="email">E-mail</label>
                                            </div>
                                        </div>

<!--                                        <div class="text-warning" th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></div>-->

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="password" id="password" class="form-control form-control-lg" th:field="*{password}"/>
                                                <label class="form-label" for="password">Password</label>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-lock fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="password" id="confirmPassword" class="form-control form-control-lg" th:field="*{confirmPassword}"/>
                                                <label class="form-label" for="confirmPassword">Confirm Password</label>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-eye fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="checkbox" onclick="showPassword()" class="form-check-input" /> Show Password
                                            </div>
                                        </div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-map-marker-alt fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="text" id="address" class="form-control form-control-lg" th:field="*{address}"/>
                                                <label class="form-label" for="address">Address</label>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-mobile fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="text" id="mobile" class="form-control form-control-lg" th:field="*{mobile}"/>
                                                <label class="form-label" for="mobile">Mobile</label>
                                            </div>
                                        </div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-briefcase fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="text" id="jobTitle" class="form-control form-control-lg" th:field="*{jobTitle}"/>
                                                <label class="form-label" for="jobTitle">Job title</label>
                                            </div>
                                        </div>

                                        <div class="text-warning" th:if="${#fields.hasErrors('personalIdentificationNumber')}" th:errors="*{personalIdentificationNumber}"></div>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fas fa-id-card fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="text" id="pin" class="form-control form-control-lg" th:field="*{personalIdentificationNumber}"/>
                                                <label class="form-label" for="pin">OIB</label>
                                            </div>
                                        </div>

                                        <div class="form-floating flex-fill mb-0">
                                            <div class="col-12">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required />
                                                    <label class="form-check-label" for="invalidCheck">Agree to terms and conditions</label>
                                                    <div class="invalid-feedback">You must agree before submitting.</div>
                                                </div>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fa fa-refresh fa-spin fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <img th:src="*{'data:realCaptcha/jpg;base64,'+ realCaptcha}"/>
                                            </div>
                                        </div>
                                        <br>

                                        <div class="d-flex flex-row align-items-center mb-4">
                                            <i class="fa fa-refresh fa-lg me-3 fa-fw"></i>
                                            <div class="form-floating flex-fill mb-0">
                                                <input type="hidden" th:field="*{hiddenCaptcha}"/>
                                                <input type="text" th:field="*{captcha}" class="form-control form-control-lg" id="captcha"/>
                                                <label class="form-label" for="captcha">Enter Captcha</label>
                                            </div>
                                        </div>
                                        <br>


                                        <div class="d-flex justify-content-end pt-3">
                                            <button type="reset" class="btn btn-light btn-lg">Reset all</button>
                                            <button type="submit" class="btn btn-warning btn-lg ms-2">Register</button>
                                        </div>
                                    </form>
                                    <br>
                            </div>

                            <div th:if="${message!=null}" class="text-center">
                                <span class="alert alert-danger" th:text="${message}"></span>
                            </div>

<!--                                    <div th:switch="${message}">-->
<!--                                        <div th:case="'Success'" class="alert alert-success">-->
<!--                                            <strong>Success!</strong> Successfully registered.-->
<!--                                        </div>-->
<!--                                        <div th:case="'Failed username'" class="alert alert-danger">-->
<!--                                            <strong>Failure!</strong> Username exists, choose another.-->
<!--                                        </div>-->
<!--                                        <div th:case="'Failed password'" class="alert alert-danger">-->
<!--                                            <strong>Failure!</strong> Passwords doesn't match.-->
<!--                                        </div>-->
<!--                                    </div>-->
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<script>

</script>
</body>
<div th:replace="~{fragments/footer.html :: footer}"></div>
</html>